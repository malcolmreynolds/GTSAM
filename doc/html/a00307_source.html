<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>gtsam: /home/richard/borg/gtsam/gtsam/inference/BayesNet-inl.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">gtsam
   &#160;<span id="projectnumber">2.3.1</span>
   </div>
   <div id="projectbrief">gtsam</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00307_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BayesNet-inl.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a00307.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * GTSAM Copyright 2010, Georgia Tech Research Corporation, </span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Atlanta, Georgia 30332-0415</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * All Rights Reserved</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Authors: Frank Dellaert, et al. (see THANKS for the full author list)</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * See LICENSE for the license information</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * -------------------------------------------------------------------------- */</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00241.html" title="Concept check for values that can be used in unit tests.">gtsam/base/Testable.h</a>&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;boost/foreach.hpp&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;boost/tuple/tuple.hpp&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;boost/format.hpp&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;boost/assign/std/vector.hpp&gt;</span> <span class="comment">// for +=</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using</span> boost::assign::operator+=;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">namespace </span>gtsam {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="code" href="a00009.html#ab12d4a5d9977ca5201bc39f8fa60ec71">   37</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00009.html#ab12d4a5d9977ca5201bc39f8fa60ec71" title="print">BayesNet&lt;CONDITIONAL&gt;::print</a>(<span class="keyword">const</span> std::string&amp; s,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      <span class="keyword">const</span> <a class="code" href="a00243.html#acd76f1ddc9222a483adcca0335556277" title="A function to convert indices to strings, for example by translating back to a nonlinear key and then...">IndexFormatter</a>&amp; formatter)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    std::cout &lt;&lt; s;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    BOOST_REVERSE_FOREACH(sharedConditional conditional, conditionals_)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      conditional-&gt;print(<span class="stringliteral">&quot;Conditional&quot;</span>, formatter);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  }</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="code" href="a00009.html#aa8802830e98ec4816e0761effc877541">   46</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a00009.html#aa8802830e98ec4816e0761effc877541" title="check equality">BayesNet&lt;CONDITIONAL&gt;::equals</a>(<span class="keyword">const</span> <a class="code" href="a00009.html" title="A BayesNet is a list of conditionals, stored in elimination order, i.e.">BayesNet</a>&amp; cbn, <span class="keywordtype">double</span> tol)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (size() != cbn.<a class="code" href="a00009.html#a136646b5779eda44a63ed1a1f233208e" title="size is the number of nodes">size</a>())</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a00243.html#ad2dbee4a72127938c79162cc8b6d5152" title="Call equal on the object.">std::equal</a>(conditionals_.begin(), conditionals_.end(),</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        cbn.<a class="code" href="a00009.html#a30f381e8a948a7c54081c687655e938f" title="Conditional densities are stored in reverse topological sort order (i.e., leaves first, parents last), which corresponds to the elimination ordering if so obtained, and is consistent with the column (block) ordering of an upper triangular matrix.">conditionals_</a>.begin(), <a class="code" href="a00061.html" title="Binary predicate on shared pointers.">equals_star&lt;CONDITIONAL&gt;</a>(tol));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="code" href="a00009.html#a0cc00a43c54751d2135fe097e8289164">   55</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00009.html#a0cc00a43c54751d2135fe097e8289164" title="print statistics">BayesNet&lt;CONDITIONAL&gt;::printStats</a>(<span class="keyword">const</span> std::string&amp; s)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> n = conditionals_.size();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">size_t</span> max_size = 0;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">size_t</span> total = 0;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    BOOST_REVERSE_FOREACH(sharedConditional conditional, conditionals_) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      max_size = <a class="code" href="a00243.html#ab21cbc51fd8128a843739dbe5e0b2421" title="Return the max element of a vector.">std::max</a>(max_size, conditional-&gt;size());</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      total += conditional-&gt;size();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    std::cout &lt;&lt; s</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;maximum conditional size = &quot;</span> &lt;&lt; max_size &lt;&lt; std::endl</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;average conditional size = &quot;</span> &lt;&lt; total / n &lt;&lt; std::endl</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;density = &quot;</span> &lt;&lt; 100.0 * total / (double) (n*(n+1)/2) &lt;&lt; <span class="stringliteral">&quot; %&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="code" href="a00009.html#a8aad20e82b6d06dd3a3061a711abcd4a">   72</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00009.html#a8aad20e82b6d06dd3a3061a711abcd4a" title="save dot graph">BayesNet&lt;CONDITIONAL&gt;::saveGraph</a>(<span class="keyword">const</span> std::string &amp;s,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="keyword">const</span> <a class="code" href="a00243.html#acd76f1ddc9222a483adcca0335556277" title="A function to convert indices to strings, for example by translating back to a nonlinear key and then...">IndexFormatter</a>&amp; indexFormatter)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    std::ofstream of(s.c_str());</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    of &lt;&lt; <span class="stringliteral">&quot;digraph G{\n&quot;</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    BOOST_REVERSE_FOREACH(<span class="keyword">typename</span> CONDITIONAL::shared_ptr conditional, conditionals_) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keyword">typename</span> CONDITIONAL::Frontals frontals = conditional-&gt;frontals();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="a00243.html#ab6d32a7175826a8984dc554fa0025a49" title="Integer variable index type.">Index</a> me = frontals.front();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="keyword">typename</span> CONDITIONAL::Parents parents = conditional-&gt;parents();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      BOOST_FOREACH(<a class="code" href="a00243.html#ab6d32a7175826a8984dc554fa0025a49" title="Integer variable index type.">Index</a> p, parents)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        of &lt;&lt; p &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span> &lt;&lt; me &lt;&lt; std::endl;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    of &lt;&lt; <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    of.close();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="code" href="a00009.html#a0e6f0ea066dd4def40f547151a3b1238">   91</a></span>&#160;  <span class="keyword">typename</span> BayesNet&lt;CONDITIONAL&gt;::const_iterator <a class="code" href="a00009.html#a0e6f0ea066dd4def40f547151a3b1238" title="Find an iterator pointing to the conditional where the specified key appears as a frontal variable...">BayesNet&lt;CONDITIONAL&gt;::find</a>(</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <a class="code" href="a00243.html#ab6d32a7175826a8984dc554fa0025a49" title="Integer variable index type.">Index</a> key)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">for</span> (const_iterator it = begin(); it != end(); ++it)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">if</span> (std::find((*it)-&gt;beginFrontals(), (*it)-&gt;endFrontals(), key)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;          != (*it)-&gt;endFrontals())</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> it;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> end();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="code" href="a00009.html#a31edb06d507ee4a16291bd546e492333">  102</a></span>&#160;  <span class="keyword">typename</span> BayesNet&lt;CONDITIONAL&gt;::iterator <a class="code" href="a00009.html#a0e6f0ea066dd4def40f547151a3b1238" title="Find an iterator pointing to the conditional where the specified key appears as a frontal variable...">BayesNet&lt;CONDITIONAL&gt;::find</a>(</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <a class="code" href="a00243.html#ab6d32a7175826a8984dc554fa0025a49" title="Integer variable index type.">Index</a> key) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">for</span> (iterator it = begin(); it != end(); ++it)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keywordflow">if</span> (std::find((*it)-&gt;beginFrontals(), (*it)-&gt;endFrontals(), key)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;          != (*it)-&gt;endFrontals())</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">return</span> it;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span> end();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="code" href="a00009.html#af85a3bc1ec2212a61d49f3da6f8936d0">  113</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00009.html#af85a3bc1ec2212a61d49f3da6f8936d0" title="Permute the variables in the BayesNet.">BayesNet&lt;CONDITIONAL&gt;::permuteWithInverse</a>(</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keyword">const</span> <a class="code" href="a00155.html" title="A permutation reorders variables, for example to reduce fill-in during elimination.">Permutation</a>&amp; inversePermutation) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    BOOST_FOREACH(sharedConditional conditional, conditionals_) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      conditional-&gt;permuteWithInverse(inversePermutation);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="code" href="a00009.html#a61247208b328e46096f1aae24ff4b423">  122</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00009.html#abb2164619077d809dedc48c773cde203" title="push_back: use reverse topological sort (i.e.">BayesNet&lt;CONDITIONAL&gt;::push_back</a>(<span class="keyword">const</span> <a class="code" href="a00009.html" title="A BayesNet is a list of conditionals, stored in elimination order, i.e.">BayesNet&lt;CONDITIONAL&gt;</a>&amp; bn) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    BOOST_FOREACH(sharedConditional conditional,bn.<a class="code" href="a00009.html#a30f381e8a948a7c54081c687655e938f" title="Conditional densities are stored in reverse topological sort order (i.e., leaves first, parents last), which corresponds to the elimination ordering if so obtained, and is consistent with the column (block) ordering of an upper triangular matrix.">conditionals_</a>)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      push_back(conditional);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="code" href="a00009.html#a3886a7498f00a7128ed6c87361ea7e6a">  129</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00009.html#ada411f8f4e60eb2667fecdc018d2ff52" title="push_front: use topological sort (i.e.">BayesNet&lt;CONDITIONAL&gt;::push_front</a>(<span class="keyword">const</span> <a class="code" href="a00009.html" title="A BayesNet is a list of conditionals, stored in elimination order, i.e.">BayesNet&lt;CONDITIONAL&gt;</a>&amp; bn) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    BOOST_FOREACH(sharedConditional conditional,bn.<a class="code" href="a00009.html#a30f381e8a948a7c54081c687655e938f" title="Conditional densities are stored in reverse topological sort order (i.e., leaves first, parents last), which corresponds to the elimination ordering if so obtained, and is consistent with the column (block) ordering of an upper triangular matrix.">conditionals_</a>)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <a class="code" href="a00243.html#a43d1569fcd498fd1cfdb2544fe53913a" title="Add a conditional node with one parent |Rx+Sy-d|.">push_front</a>(conditional);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="code" href="a00009.html#a7aadaf3cab9b30e16b90068295d77aaa">  136</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00009.html#a7aadaf3cab9b30e16b90068295d77aaa" title="Remove any leaf conditional.">BayesNet&lt;CONDITIONAL&gt;::popLeaf</a>(iterator conditional) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#ifdef GTSAM_EXTRA_CONSISTENCY_CHECKS</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor"></span>    BOOST_FOREACH(<span class="keyword">typename</span> CONDITIONAL::shared_ptr checkConditional, conditionals_) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      BOOST_FOREACH(<a class="code" href="a00243.html#ab6d32a7175826a8984dc554fa0025a49" title="Integer variable index type.">Index</a> key, (*conditional)-&gt;frontals()) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">if</span>(std::find(checkConditional-&gt;beginParents(), checkConditional-&gt;endParents(), key) != checkConditional-&gt;endParents())</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">throw</span> std::invalid_argument(</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="stringliteral">&quot;Debug mode exception:  in BayesNet::popLeaf, the requested conditional is not a leaf.&quot;</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor"></span>    conditionals_.erase(conditional);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="code" href="a00009.html#ab6e1a422bf60ca0ff6df6d717e070b65">  151</a></span>&#160;  <a class="code" href="a00067.html">FastList&lt;Index&gt;</a> <a class="code" href="a00009.html#ab6e1a422bf60ca0ff6df6d717e070b65" title="return keys in reverse topological sort order, i.e., elimination order">BayesNet&lt;CONDITIONAL&gt;::ordering</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="a00067.html">FastList&lt;Index&gt;</a> ord;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    BOOST_FOREACH(sharedConditional conditional,conditionals_)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      ord.insert(ord.begin(), conditional-&gt;beginFrontals(),</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;          conditional-&gt;endFrontals());</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> ord;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">//  /* ************************************************************************* */</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">//  template&lt;class CONDITIONAL&gt;</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">//  void BayesNet&lt;CONDITIONAL&gt;::saveGraph(const std::string &amp;s) const {</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">//    ofstream of(s.c_str());</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">//    of&lt;&lt; &quot;digraph G{\n&quot;;</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">//    BOOST_FOREACH(const_sharedConditional conditional,conditionals_) {</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">//      Index child = conditional-&gt;key();</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">//      BOOST_FOREACH(Index parent, conditional-&gt;parents()) {</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">//        of &lt;&lt; parent &lt;&lt; &quot;-&gt;&quot; &lt;&lt; child &lt;&lt; endl;</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">//      }</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">//    }</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">//    of&lt;&lt;&quot;}&quot;;</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">//    of.close();</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> CONDITIONAL&gt;</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="code" href="a00009.html#a15d4a895b730f54bf6940132b91c522e">  177</a></span>&#160;  <span class="keyword">typename</span> BayesNet&lt;CONDITIONAL&gt;::sharedConditional <a class="code" href="a00009.html#a15d4a895b730f54bf6940132b91c522e" title="SLOW O(n) random access to Conditional by key.">BayesNet&lt;CONDITIONAL&gt;::operator[]</a>(</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="a00243.html#ab6d32a7175826a8984dc554fa0025a49" title="Integer variable index type.">Index</a> key)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    BOOST_FOREACH(<span class="keyword">typename</span> CONDITIONAL::shared_ptr conditional, conditionals_) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keyword">typename</span> CONDITIONAL::const_iterator it = std::find(</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          conditional-&gt;beginFrontals(), conditional-&gt;endFrontals(), key);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">if</span> (it != conditional-&gt;endFrontals()) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">return</span> conditional;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">throw</span>(std::invalid_argument(</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        (boost::format(<span class="stringliteral">&quot;BayesNet::operator[&#39;%1%&#39;]: not found&quot;</span>) % key).str()));</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/* ************************************************************************* */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;} <span class="comment">// namespace gtsam</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bfc28a2d5821421c95e1320e4031f515.html">gtsam</a></li><li class="navelem"><a class="el" href="dir_169eaf73225633059c1416b195c6cb0d.html">inference</a></li><li class="navelem"><a class="el" href="a00307.html">BayesNet-inl.h</a></li>
    <li class="footer">Generated on Tue Aug 13 2013 16:47:09 for gtsam by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
